# 🤖 AI智能视频监控使用指南

## 📋 功能概述

AI智能视频监控界面允许您使用手机或电脑的摄像头进行实时AI分析，支持：

- 🎯 **实时目标检测** - 识别人员、物体等
- 👤 **人脸识别** - 识别已知人员，检测陌生人
- 🚨 **行为分析** - 检测异常行为
- 🔊 **音频监控** - 分析异常声音（可选）
- 📊 **实时告警** - 自动生成告警并存储到数据库

## 🚀 快速开始

### 1. 启动服务

首先确保所有必要的服务都在运行：

#### 启动AI服务 (端口8001)
```bash
cd smart_station_platform/ai_service
python app.py
```

#### 启动后端服务 (端口8000)
```bash
cd smart_station_platform/backend  
python -m daphne -p 8000 smart_station.asgi:application
```

#### 启动前端服务 (端口5173)
```bash
cd smart_station_platform/frontend
npm run dev
```

### 2. 访问AI视频监控

1. 在浏览器中打开 `http://localhost:5173`
2. 登录系统（如需要）
3. 在Dashboard点击 **"🤖 AI实时分析"** 按钮
4. 或直接访问 `http://localhost:5173/ai-monitor`

## 🎥 使用步骤

### 第一步：选择摄像头设备
- 页面会自动检测可用的摄像头设备
- 在下拉列表中选择要使用的摄像头（前置/后置）

### 第二步：启动摄像头
- 点击 **"启动摄像头"** 按钮
- 授权浏览器访问摄像头权限
- 视频流开始显示

### 第三步：配置AI分析
在右侧控制面板中设置：
- ✅ **人脸识别** - 识别已知人员
- ✅ **目标检测** - 检测人员、物体
- ✅ **行为分析** - 异常行为检测
- ✅ **声音检测** - 音频异常监测
- 🔧 **检测频率** - 调整分析间隔(500-5000ms)

### 第四步：开启AI分析
- 点击 **"开启AI分析"** 按钮
- AI服务开始实时分析视频帧
- 检测结果会实时显示在视频上

## 📊 功能说明

### 🎯 视频上的检测标记

系统会在视频上实时绘制：
- **蓝色框** - 人员检测
- **绿色框** - 已知人脸
- **红色框** - 未知人脸  
- **橙色框** - 其他物体

每个检测框都会显示：
- 检测类型标签
- 置信度百分比

### 📋 检测结果面板

右侧显示实时检测信息：
- 检测对象类型和名称
- 置信度评分
- 检测时间戳
- 自动保持最新20条记录

### ⚠️ 实时告警面板

当检测到重要事件时，会显示：
- 🚨 **检测到人员** - 高置信度人员检测
- ⚠️ **发现未知人脸** - 陌生人脸检测
- 🔥 **异常行为检测** - 行为分析告警

### 🔧 高级设置

**检测频率调整：**
- 500ms - 高频率，实时性强，消耗较大
- 1000ms - 标准频率，平衡性能和实时性
- 5000ms - 低频率，节省资源

**AI功能开关：**
- 可以单独开启/关闭不同的AI检测功能
- 修改设置后会自动重启AI分析流

## 📱 设备兼容性

### 支持的设备
- ✅ **桌面电脑** - Windows/Mac/Linux
- ✅ **笔记本电脑** - 内置/外置摄像头
- ✅ **平板电脑** - iPad/Android平板
- ✅ **智能手机** - iPhone/Android手机

### 浏览器要求
- ✅ **Chrome** 88+ (推荐)
- ✅ **Firefox** 85+
- ✅ **Safari** 14+
- ✅ **Edge** 88+

### 网络要求
- 稳定的局域网连接
- 摄像头权限授权
- JavaScript启用

## 🔍 实际应用场景

### 🏢 办公室安防监控
- 检测非工作时间的人员活动
- 识别未授权访问者
- 监控办公设备安全

### 🏠 家庭安防
- 检测陌生人入侵
- 识别家庭成员回家
- 监控宠物活动

### 🏪 商店/仓库监控
- 客流统计分析
- 防盗监控
- 员工行为分析

### 📚 教育场所
- 课堂纪律监控
- 学生考勤统计
- 安全事件检测

## 🛠️ 故障排除

### 摄像头无法启动
1. 检查浏览器摄像头权限
2. 确认设备摄像头正常工作
3. 尝试刷新页面重新授权

### AI分析无响应  
1. 确认AI服务(8001端口)正常运行
2. 检查网络连接状态
3. 查看浏览器控制台错误信息

### 检测结果不准确
1. 调整检测频率设置
2. 确保光线充足
3. 保持摄像头稳定

### 告警未保存到数据库
1. 确认后端服务(8000端口)运行正常
2. 检查数据库连接状态
3. 查看后端服务日志

## 🎯 性能优化建议

### 1. 合理设置检测频率
- 实时监控: 500-1000ms
- 一般监控: 1000-2000ms  
- 节能模式: 3000-5000ms

### 2. 选择性开启AI功能
- 只开启必要的检测功能
- 根据场景需求调整设置

### 3. 硬件配置建议
- **CPU**: Intel i5 / AMD Ryzen 5 以上
- **内存**: 8GB以上
- **摄像头**: 720p以上分辨率

## 📞 技术支持

如遇到技术问题，请检查：
1. 服务运行状态
2. 浏览器控制台错误
3. 网络连接情况
4. 设备兼容性

系统已经完全集成到数据库，所有检测结果和告警都会自动保存并可通过后端API查询管理。 