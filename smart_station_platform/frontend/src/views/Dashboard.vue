<template>
  <div class="dashboard-container">
    <h1>æ¬¢è¿æ¥åˆ°æ™ºæ…§è½¦ç«™æ™ºèƒ½ç›‘æ§ä¸å¤§æ•°æ®åˆ†æå¹³å°</h1>
    <el-row :gutter="20">
      <el-col :span="12">
        <el-card class="box-card">
          <template #header>
            <div class="card-header">
              <span>å®æ—¶å®‰å…¨æ¦‚è§ˆ</span>
            </div>
          </template>
          <p>æ­¤å¤„å°†å±•ç¤ºå½“å‰å®æ—¶å‘Šè­¦æ•°é‡ã€é‡ç‚¹åŒºåŸŸé£é™©ç­‰çº§ç­‰ã€‚</p>
          <el-empty description="æš‚æ— æ•°æ®"></el-empty>
          <el-space>
            <el-button type="primary" @click="router.push('/monitor')">æ™ºèƒ½ç›‘æ§ä¸­å¿ƒ</el-button>
            <el-button type="success" @click="router.push('/ai-monitor')">ğŸ¤– AIå®æ—¶åˆ†æ</el-button>
          </el-space>
        </el-card>
      </el-col>
      <el-col :span="12">
        <el-card class="box-card">
          <template #header>
            <div class="card-header">
              <span>è¿è¥æ•°æ®æ´å¯Ÿ</span>
            </div>
          </template>
          <p>æ­¤å¤„å°†å±•ç¤ºå®¢æµé‡è¶‹åŠ¿ã€èµ„æºåˆ©ç”¨ç‡ç­‰è¿è¥æŒ‡æ ‡ã€‚</p>
          <el-empty description="æš‚æ— æ•°æ®"></el-empty>
          <el-button type="success" @click="router.push('/data-screen')">æŸ¥çœ‹æ•°æ®å¤§å±</el-button>
        </el-card>
      </el-col>
    </el-row>
    <el-row :gutter="20" style="margin-top: 20px;">
        <el-col :span="24">
             <el-card class="box-card">
              <template #header>
                <div class="card-header">
                  <span>å¿«é€Ÿå¯¼èˆª</span>
                </div>
              </template>
              <el-space wrap>
                <el-button type="info" @click="router.push('/alerts')">å‘Šè­¦äº‹ä»¶ç®¡ç†</el-button>
                <el-button type="warning" @click="router.push('/reports')">AIç›‘æ§æ—¥æŠ¥</el-button>
                <el-button type="danger" @click="logout">é€€å‡ºç™»å½•</el-button>
              </el-space>
             </el-card>
        </el-col>
    </el-row>
  </div>
</template>

<script setup>
import { useRouter } from 'vue-router';
import { ElMessage, ElMessageBox } from 'element-plus';

const router = useRouter();

const logout = () => {
  ElMessageBox.confirm('ç¡®å®šè¦é€€å‡ºç™»å½•å—ï¼Ÿ', 'æç¤º', {
    confirmButtonText: 'ç¡®å®š',
    cancelButtonText: 'å–æ¶ˆ',
    type: 'warning',
  })
  .then(() => {
    localStorage.removeItem('access_token');
    localStorage.removeItem('refresh_token');
    ElMessage.success('å·²å®‰å…¨é€€å‡ºï¼');
    router.push('/login');
  })
  .catch(() => {
    // ç”¨æˆ·å–æ¶ˆæ“ä½œ
  });
};
</script>

<style scoped>
.dashboard-container {
  padding: 20px;
}
.dashboard-container h1 {
  text-align: center;
  margin-bottom: 30px;
  color: #303133;
}
.box-card {
  margin-bottom: 20px;
  min-height: 250px;
  display: flex;
  flex-direction: column;
}
.box-card .card-header {
  font-size: 1.1em;
  font-weight: bold;
  color: #303133;
}
.box-card p {
  margin-top: 10px;
  color: #606266;
}
.box-card .el-empty {
  flex-grow: 1;
  display: flex;
  align-items: center;
  justify-content: center;
}
.box-card .el-button {
  margin-top: auto; /* å°†æŒ‰é’®æ¨åˆ°åº•éƒ¨ */
}
</style>
